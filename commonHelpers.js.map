{"version":3,"file":"commonHelpers.js","sources":["../src/cat-api.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\naxios.defaults.baseURL = 'https://api.thecatapi.com/v1/';\naxios.defaults.headers.common['x-api-key'] =\n  'live_Q0VNADEy32RTi0X0eKuhYCfTRuaBwaRjJYXAI9dpQx4K9UpiqQs3veVx8O0mXCjR';\n\nconst loader = document.querySelector('.loader');\n\nasync function fetchBreeds() {\n  try {\n    loader.style.display = 'block';\n    const { data } = await axios.get('breeds');\n    return data;\n  } catch (error) {\n    iziToast.error({\n      timeout: 10000,\n      position: 'topRight',\n      message: 'Oops! Something went wrong! Try reloading the page!',\n    });\n    throw new Error(`${error.code} ${error.message}`);\n  } finally {\n    loader.style.display = 'none';\n  }\n}\n\nasync function fetchCatByBreed(breedId) {\n  try {\n    loader.style.display = 'block';\n    const { data } = await axios.get('images/search', {\n      params: {\n        breed_ids: breedId,\n      },\n    });\n\n    return data;\n  } catch (error) {\n    iziToast.error({\n      timeout: 10000,\n      position: 'topRight',\n      message: 'Oops! Something went wrong! Try reloading the page!',\n    });\n    throw new Error(`${error.code} ${error.message}`);\n  } finally {\n    loader.style.display = 'none';\n  }\n}\n\nexport {\n  fetchBreeds,\n  fetchCatByBreed\n}\n","import SlimSelect from \"slim-select\";\nimport {fetchBreeds, fetchCatByBreed} from \"./cat-api\";\n\nconst selector = document.querySelector('.breed-select');\nconst catInfo = document.querySelector('.cat-info');\n\n\nhandleBreeds();\n\nfunction handleBreeds() {\n  selector.style.display = 'none';\n  fetchBreeds('breeds').then(res => {\n    selector.style.display = 'flex';\n    initSelect(res)\n  })\n}\n\nfunction initSelect(arr) {\n  new SlimSelect({\n    select: selector,\n    settings: {\n      showSearch: false,\n    },\n    data:\n      arr.map(({name, id}) => {\n        return {\n          text: name,\n          value: name,\n          id: id,\n        };\n      }),\n    events: {\n      beforeChange: () => catInfo.replaceChildren(),\n      afterChange: handleSelectChange,\n    },\n  });\n}\n\nfunction handleSelectChange(result) {\n  fetchCatByBreed(result[0].id)\n    .then(res => {\n      catInfo.insertAdjacentHTML('beforeend', createCatDetailMark(res[0]))\n    })\n}\n\nfunction createCatDetailMark({url, breeds}) {\n  return `\n    <img class=\"cat-info__image\" src=\"${url}\" >\n    <div class=\"cat-info__info\">\n      <h2>${breeds[0].name}</h2>\n      <p>${breeds[0].description}</p>\n      <p><strong>Temperament</strong>: ${breeds[0].temperament}</p>\n    </div>\n  `;\n}\n"],"names":["axios","loader","fetchBreeds","data","error","iziToast","fetchCatByBreed","breedId","selector","catInfo","handleBreeds","res","initSelect","arr","SlimSelect","name","id","handleSelectChange","result","createCatDetailMark","url","breeds"],"mappings":"owBAIAA,EAAM,SAAS,QAAU,gCACzBA,EAAM,SAAS,QAAQ,OAAO,WAAW,EACvC,wEAEF,MAAMC,EAAS,SAAS,cAAc,SAAS,EAE/C,eAAeC,GAAc,CAC3B,GAAI,CACFD,EAAO,MAAM,QAAU,QACvB,KAAM,CAAE,KAAAE,CAAI,EAAK,MAAMH,EAAM,IAAI,QAAQ,EACzC,OAAOG,CACR,OAAQC,EAAO,CACd,MAAAC,EAAS,MAAM,CACb,QAAS,IACT,SAAU,WACV,QAAS,qDACf,CAAK,EACK,IAAI,MAAM,GAAGD,EAAM,IAAI,IAAIA,EAAM,OAAO,EAAE,CACpD,QAAY,CACRH,EAAO,MAAM,QAAU,MACxB,CACH,CAEA,eAAeK,EAAgBC,EAAS,CACtC,GAAI,CACFN,EAAO,MAAM,QAAU,QACvB,KAAM,CAAE,KAAAE,CAAM,EAAG,MAAMH,EAAM,IAAI,gBAAiB,CAChD,OAAQ,CACN,UAAWO,CACZ,CACP,CAAK,EAED,OAAOJ,CACR,OAAQC,EAAO,CACd,MAAAC,EAAS,MAAM,CACb,QAAS,IACT,SAAU,WACV,QAAS,qDACf,CAAK,EACK,IAAI,MAAM,GAAGD,EAAM,IAAI,IAAIA,EAAM,OAAO,EAAE,CACpD,QAAY,CACRH,EAAO,MAAM,QAAU,MACxB,CACH,CC5CA,MAAMO,EAAW,SAAS,cAAc,eAAe,EACjDC,EAAU,SAAS,cAAc,WAAW,EAGlDC,IAEA,SAASA,GAAe,CACtBF,EAAS,MAAM,QAAU,OACzBN,EAAoB,EAAE,KAAKS,GAAO,CAChCH,EAAS,MAAM,QAAU,OACzBI,EAAWD,CAAG,CAClB,CAAG,CACH,CAEA,SAASC,EAAWC,EAAK,CACvB,IAAIC,EAAW,CACb,OAAQN,EACR,SAAU,CACR,WAAY,EACb,EACD,KACEK,EAAI,IAAI,CAAC,CAAC,KAAAE,EAAM,GAAAC,CAAE,KACT,CACL,KAAMD,EACN,MAAOA,EACP,GAAIC,CACd,EACO,EACH,OAAQ,CACN,aAAc,IAAMP,EAAQ,gBAAiB,EAC7C,YAAaQ,CACd,CACL,CAAG,CACH,CAEA,SAASA,EAAmBC,EAAQ,CAClCZ,EAAgBY,EAAO,CAAC,EAAE,EAAE,EACzB,KAAKP,GAAO,CACXF,EAAQ,mBAAmB,YAAaU,EAAoBR,EAAI,CAAC,CAAC,CAAC,CACzE,CAAK,CACL,CAEA,SAASQ,EAAoB,CAAC,IAAAC,EAAK,OAAAC,CAAM,EAAG,CAC1C,MAAO;AAAA,wCAC+BD,CAAG;AAAA;AAAA,YAE/BC,EAAO,CAAC,EAAE,IAAI;AAAA,WACfA,EAAO,CAAC,EAAE,WAAW;AAAA,yCACSA,EAAO,CAAC,EAAE,WAAW;AAAA;AAAA,GAG9D"}